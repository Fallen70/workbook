<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>WorkBook</title><link href="https://fallen70.github.io/workbook/" rel="alternate"></link><link href="https://fallen70.github.io/workbook/feeds/all.atom.xml" rel="self"></link><id>https://fallen70.github.io/workbook/</id><updated>2021-08-06T13:50:00+02:00</updated><entry><title>Package installé par taille</title><link href="https://fallen70.github.io/workbook/package-installe-par-taille.html" rel="alternate"></link><published>2021-08-06T13:50:00+02:00</published><updated>2021-08-06T13:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-06:/workbook/package-installe-par-taille.html</id><content type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rpm -qa --queryformat &lt;span class="s1"&gt;&amp;#39;%10{size} - %-25{name} \t %{version}\n&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sort -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="RedHat"></category><category term="admin-sys"></category></entry><entry><title>Subcription manager</title><link href="https://fallen70.github.io/workbook/subcription-manager.html" rel="alternate"></link><published>2021-08-06T13:50:00+02:00</published><updated>2021-08-06T13:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-06:/workbook/subcription-manager.html</id><summary type="html">&lt;h1&gt;Prérequis&lt;/h1&gt;
&lt;p&gt;Les commandes sont lancées en utilisant ansible et un inventory pour pouvoir propoager la configuration.&lt;/p&gt;
&lt;p&gt;Il faut évidemment disposer de licences redhat et d'un compte associé ( &lt;code&gt;&amp;lt;login&amp;gt;&lt;/code&gt; et '&lt;password&gt;' ).&lt;/p&gt;
&lt;h1&gt;Register&lt;/h1&gt;
&lt;p&gt;Source : &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/solutions/253273"&gt;https://access.redhat.com/solutions/253273&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m redhat_subscription …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;Prérequis&lt;/h1&gt;
&lt;p&gt;Les commandes sont lancées en utilisant ansible et un inventory pour pouvoir propoager la configuration.&lt;/p&gt;
&lt;p&gt;Il faut évidemment disposer de licences redhat et d'un compte associé ( &lt;code&gt;&amp;lt;login&amp;gt;&lt;/code&gt; et '&lt;password&gt;' ).&lt;/p&gt;
&lt;h1&gt;Register&lt;/h1&gt;
&lt;p&gt;Source : &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/solutions/253273"&gt;https://access.redhat.com/solutions/253273&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m redhat_subscription -a &lt;span class="s2"&gt;&amp;quot;state=present username=&amp;lt;login&amp;gt; password=&amp;lt;password&amp;gt; auto_attach=true&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Lock version&lt;/h1&gt;
&lt;p&gt;Source :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/solutions/238533"&gt;https://access.redhat.com/solutions/238533&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command /usr/sbin/subscription-manager release --list&amp;quot;&lt;/span&gt;

ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command /usr/sbin/subscription-manager release --set=&amp;lt;version&amp;gt;&amp;quot;&lt;/span&gt;

ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command /usr/sbin/subscription-manager release --show&amp;quot;&lt;/span&gt;

ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command yum clean all&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Unsubscribe&lt;/h1&gt;
&lt;p&gt;Source :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/ch-deregister_rhn_entitlement"&gt;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/ch-deregister_rhn_entitlement&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command /usr/sbin/subscription-manager unregister --username=&amp;lt;login&amp;gt;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Redhat 7:&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible all -i inventory -u ansible  -b --become-user&lt;span class="o"&gt;=&lt;/span&gt;root --become-method&lt;span class="o"&gt;=&lt;/span&gt;sudo -m &lt;span class="s2"&gt;&amp;quot;command /usr/sbin/subscription-manager unregister&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="RedHat"></category><category term="admin-sys"></category><category term="ansible"></category></entry><entry><title>Ulimit</title><link href="https://fallen70.github.io/workbook/ulimit.html" rel="alternate"></link><published>2021-08-06T13:50:00+02:00</published><updated>2021-08-06T13:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-06:/workbook/ulimit.html</id><content type="html">&lt;p&gt;Liste par process&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="se"&gt;\ &lt;/span&gt; -f1 &lt;span class="p"&gt;|&lt;/span&gt; sort &lt;span class="p"&gt;|&lt;/span&gt; uniq -c &lt;span class="p"&gt;|&lt;/span&gt; sort -nr &lt;span class="p"&gt;|&lt;/span&gt; less   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="admin-sys"></category></entry><entry><title>RAM/SWAP</title><link href="https://fallen70.github.io/workbook/ramswap.html" rel="alternate"></link><published>2021-08-05T13:50:00+02:00</published><updated>2021-08-05T13:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/ramswap.html</id><summary type="html">&lt;h1&gt;Swappiness&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://geekeries.de-labrusse.fr/?p=1806"&gt;https://geekeries.de-labrusse.fr/?p=1806&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo sysctl -w vm.swappiness&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;RAM &amp;amp; SWAP&lt;/h1&gt;
&lt;p&gt;Sources :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap"&gt;https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive"&gt;https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.selenic.com/smem/"&gt;https://www.selenic.com/smem/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;for&lt;/span&gt; proc &lt;span class="k"&gt;in&lt;/span&gt; /proc/&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;-9&lt;span class="o"&gt;]&lt;/span&gt;*&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;   awk &lt;span class="s1"&gt;&amp;#39;/VmSwap/ { print $2 &amp;quot;\t&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;readlink &lt;span class="nv"&gt;$proc&lt;/span&gt;/exe &lt;span class="p"&gt;|&lt;/span&gt; awk …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;Swappiness&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://geekeries.de-labrusse.fr/?p=1806"&gt;https://geekeries.de-labrusse.fr/?p=1806&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo sysctl -w vm.swappiness&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;RAM &amp;amp; SWAP&lt;/h1&gt;
&lt;p&gt;Sources :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap"&gt;https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive"&gt;https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.selenic.com/smem/"&gt;https://www.selenic.com/smem/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;for&lt;/span&gt; proc &lt;span class="k"&gt;in&lt;/span&gt; /proc/&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;-9&lt;span class="o"&gt;]&lt;/span&gt;*&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;   awk &lt;span class="s1"&gt;&amp;#39;/VmSwap/ { print $2 &amp;quot;\t&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;readlink &lt;span class="nv"&gt;$proc&lt;/span&gt;/exe &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{ print $1 }&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; }&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$proc&lt;/span&gt;/status&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sort -n &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{ total += $1 ; print $0 } END { print total &amp;quot;\tTotal&amp;quot;}&amp;#39;&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; file &lt;span class="k"&gt;in&lt;/span&gt; /proc/*/status &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;/Tgid|VmSwap|Name/{printf $2 &amp;quot; &amp;quot; $3}END{ print &amp;quot;&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep kB  &lt;span class="p"&gt;|&lt;/span&gt; sort -k &lt;span class="m"&gt;3&lt;/span&gt; -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="admin-sys"></category></entry><entry><title>TIME_WAIT</title><link href="https://fallen70.github.io/workbook/time_wait.html" rel="alternate"></link><published>2021-08-05T13:50:00+02:00</published><updated>2021-08-05T13:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/time_wait.html</id><content type="html">&lt;p&gt;Sources :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://vincent.bernat.ch/fr/blog/2014-tcp-time-wait-state-linux"&gt;https://vincent.bernat.ch/fr/blog/2014-tcp-time-wait-state-linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.skyminds.net/serveur-dedie-reduire-les-connexions-time_wait-des-sockets-et-optimiser-tcp/"&gt;https://www.skyminds.net/serveur-dedie-reduire-les-connexions-time_wait-des-sockets-et-optimiser-tcp/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;netstat -nat &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{print $6}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sort &lt;span class="p"&gt;|&lt;/span&gt; uniq -c &lt;span class="p"&gt;|&lt;/span&gt; sort -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="netstat"></category><category term="admin-sys"></category></entry><entry><title>Création d'utilisateur</title><link href="https://fallen70.github.io/workbook/creation-dutilisateur.html" rel="alternate"></link><published>2021-08-05T13:40:00+02:00</published><updated>2021-08-05T13:40:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/creation-dutilisateur.html</id><summary type="html">&lt;p&gt;Sources :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/"&gt;https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/14810684/check-whether-a-user-exists"&gt;https://stackoverflow.com/questions/14810684/check-whether-a-user-exists&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Check if user exists&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; ! id -u &lt;span class="nv"&gt;$FS_USER&lt;/span&gt; &amp;gt; /dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;The user does not exist; execute below commands to create and try again:&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;  root@sh1:~# adduser --home /usr/local/freeswitch/ --shell /bin/false …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Sources :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/"&gt;https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/14810684/check-whether-a-user-exists"&gt;https://stackoverflow.com/questions/14810684/check-whether-a-user-exists&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Check if user exists&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; ! id -u &lt;span class="nv"&gt;$FS_USER&lt;/span&gt; &amp;gt; /dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;The user does not exist; execute below commands to create and try again:&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;  root@sh1:~# adduser --home /usr/local/freeswitch/ --shell /bin/false --no-create-home --ingroup daemon --disabled-password --disabled-login &lt;/span&gt;&lt;span class="nv"&gt;$FS_USER&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;  ...&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;  root@sh1:~# chown freeswitch:daemon /usr/local/freeswitch/ -R&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="admin-sys"></category></entry><entry><title>Nettoyage Jenkins</title><link href="https://fallen70.github.io/workbook/nettoyage-jenkins.html" rel="alternate"></link><published>2021-08-05T13:30:00+02:00</published><updated>2021-08-05T13:30:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/nettoyage-jenkins.html</id><summary type="html">&lt;p&gt;Actions en s'appuyant sur les fichiers .pom:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nettoyage des logs catalina&lt;/li&gt;
&lt;li&gt;Suppression du cache Jenkins&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TOMCAT_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/jenkins/tomcat&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CACHES_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/jenkins/jenkins_data/caches&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Clean catalina.out without restart&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning catalina.out&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; Cleaned by XXXXX&amp;#39;&lt;/span&gt; &amp;gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;TOMCAT_DIR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/logs/catalina.out

&lt;span class="c1"&gt;# Cleaning caches …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Actions en s'appuyant sur les fichiers .pom:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nettoyage des logs catalina&lt;/li&gt;
&lt;li&gt;Suppression du cache Jenkins&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TOMCAT_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/jenkins/tomcat&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CACHES_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/jenkins/jenkins_data/caches&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Clean catalina.out without restart&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning catalina.out&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; Cleaned by XXXXX&amp;#39;&lt;/span&gt; &amp;gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;TOMCAT_DIR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/logs/catalina.out

&lt;span class="c1"&gt;# Cleaning caches dir&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning caches dir&amp;#39;&lt;/span&gt;
rm -rvf &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CACHES_DIR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="Jenkins"></category><category term="admin-sys"></category></entry><entry><title>Nettoyage d'un repository M2</title><link href="https://fallen70.github.io/workbook/nettoyage-dun-repository-m2.html" rel="alternate"></link><published>2021-08-05T13:20:00+02:00</published><updated>2021-08-05T13:20:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/nettoyage-dun-repository-m2.html</id><summary type="html">&lt;p&gt;Actions en s'appuyant sur les fichiers .pom:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Suppression des snapshots avec un ctime &amp;gt;14j&lt;/li&gt;
&lt;li&gt;Suppression des autres avec un atime &amp;gt; 60j&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ctime -&amp;gt; date de création&lt;/p&gt;
&lt;p&gt;atime -&amp;gt; date de derniner accés&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;MVN_REPO_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/m2&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Cleaning mvn SNAPSHOT repository&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning SNAPSHOT repository&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; snapshot_dir &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;find &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;MVN_REPO_DIR …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Actions en s'appuyant sur les fichiers .pom:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Suppression des snapshots avec un ctime &amp;gt;14j&lt;/li&gt;
&lt;li&gt;Suppression des autres avec un atime &amp;gt; 60j&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ctime -&amp;gt; date de création&lt;/p&gt;
&lt;p&gt;atime -&amp;gt; date de derniner accés&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;MVN_REPO_DIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/m2&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Cleaning mvn SNAPSHOT repository&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning SNAPSHOT repository&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; snapshot_dir &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;find &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;MVN_REPO_DIR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; -ctime +14 -type d -name &lt;span class="s1"&gt;&amp;#39;*-SNAPSHOT&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;do&lt;/span&gt; rm -rvf &lt;span class="nv"&gt;$snapshot_dir&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;# Cleaning all mvn repository&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Cleaning all with atime &amp;gt; 60 days&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; file &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;find &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;MVN_REPO_DIR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; -atime +60 -type f -name &lt;span class="s1"&gt;&amp;#39;*.pom&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; 
  &lt;span class="k"&gt;do&lt;/span&gt; rm -rvf &lt;span class="k"&gt;$(&lt;/span&gt; dirname &lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; 
&lt;span class="k"&gt;done&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="Maven"></category><category term="admin-sys"></category></entry><entry><title>Nettoyage de fichier/dossier en fonction de la taille</title><link href="https://fallen70.github.io/workbook/nettoyage-de-fichierdossier-en-fonction-de-la-taille.html" rel="alternate"></link><published>2021-08-05T12:50:00+02:00</published><updated>2021-08-05T12:50:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/nettoyage-de-fichierdossier-en-fonction-de-la-taille.html</id><content type="html">&lt;h1&gt;Liste de fichier qui dépassent une taille en byte&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;du -s * &lt;span class="p"&gt;|&lt;/span&gt; sort -n &lt;span class="p"&gt;|&lt;/span&gt; awk  &lt;span class="s1"&gt;&amp;#39;{  if ( $1 &amp;gt; 400000 ) print $2; }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Suppression du contenu trop volumineux&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;for&lt;/span&gt; dir &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt; du -s * &lt;span class="p"&gt;|&lt;/span&gt; sort -n &lt;span class="p"&gt;|&lt;/span&gt; awk  &lt;span class="s1"&gt;&amp;#39;{  if ( $1 &amp;gt; 400000 ) print $2; }&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;do&lt;/span&gt; rm -rvf &lt;span class="nv"&gt;$dir&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Linux"></category><category term="admin-sys"></category></entry><entry><title>Formatage contenu</title><link href="https://fallen70.github.io/workbook/formatage-contenu.html" rel="alternate"></link><published>2021-08-05T10:00:00+02:00</published><updated>2021-08-05T10:00:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/formatage-contenu.html</id><content type="html">&lt;h1&gt;Formater du contenu dans vim&lt;/h1&gt;
&lt;h2&gt;HTML&lt;/h2&gt;
&lt;p&gt;Installer l'utilitaire &lt;code&gt;tidy&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;:!tidy -mi -html -wrap 0 %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;JSON&lt;/h2&gt;
&lt;p&gt;Nécessite python sur la machine&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;%!&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;tool&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Vim"></category><category term="html"></category><category term="json"></category></entry><entry><title>Installation VM Tools</title><link href="https://fallen70.github.io/workbook/installation-vm-tools.html" rel="alternate"></link><published>2021-08-05T08:40:00+02:00</published><updated>2021-08-05T08:40:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-05:/workbook/installation-vm-tools.html</id><content type="html">&lt;p&gt;A faire aprés modification du Kernel&lt;/p&gt;
&lt;p&gt;Aprés  lancement de la VM depuis le menu Périphérique choisir &lt;code&gt;Insérer l'image CD des Additions invité&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Menu Virtualbox" src="https://fallen70.github.io/workbook/images/virtualbox/vm-tools.png"&gt;&lt;/p&gt;
&lt;h1&gt;Montage et éxecution du CD:&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mount /dev/cdrom /mnt/cdrom
&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/cdrom/
sudo ./VBoxLinuxAdditions.run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Virtualbox"></category></entry><entry><title>Actions nexus avec curl</title><link href="https://fallen70.github.io/workbook/actions-nexus-avec-curl.html" rel="alternate"></link><published>2021-08-02T17:00:00+02:00</published><updated>2021-08-02T17:00:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-02:/workbook/actions-nexus-avec-curl.html</id><content type="html">&lt;h1&gt;Upload&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl -v --user &lt;span class="s1"&gt;&amp;#39;user:pass&amp;#39;&lt;/span&gt; --upload-file /path/to/file http://nexus/nexus/repository/component/subfolder/file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Delete&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl -X DELETE -v --user  &lt;span class="s1"&gt;&amp;#39;user:pass&amp;#39;&lt;/span&gt;  http://nexus/nexus/repository/component/subfolder/file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Curl"></category><category term="nexus"></category><category term="admin-sys"></category></entry><entry><title>Find et lien symbolique</title><link href="https://fallen70.github.io/workbook/find-et-lien-symbolique.html" rel="alternate"></link><published>2021-08-02T16:20:00+02:00</published><updated>2021-08-02T16:20:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-02:/workbook/find-et-lien-symbolique.html</id><summary type="html">&lt;p&gt;Tiré de &lt;a href="https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684"&gt;https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Find symbolic links&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find . -type l -ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Find symbolic links to a specific target&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find . -lname link_target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that link_target may contain wildcard characters.&lt;/p&gt;
&lt;h1&gt;Find broken symbolic links&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find -L . -type l -ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The -L option instructs find to follow symbolic …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tiré de &lt;a href="https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684"&gt;https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Find symbolic links&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find . -type l -ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Find symbolic links to a specific target&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find . -lname link_target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that link_target may contain wildcard characters.&lt;/p&gt;
&lt;h1&gt;Find broken symbolic links&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find -L . -type l -ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The -L option instructs find to follow symbolic links, unless when broken.&lt;/p&gt;
&lt;h1&gt;Find &amp;amp; replace broken symbolic links&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find -L . -type l -delete -exec ln -s new_target &lt;span class="o"&gt;{}&lt;/span&gt; &lt;span class="se"&gt;\;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;More find examples can be found here: &lt;a href="https://hamwaves.com/find/"&gt;https://hamwaves.com/find/&lt;/a&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="find"></category><category term="sym-links"></category></entry><entry><title>Test StickySession avec curl</title><link href="https://fallen70.github.io/workbook/test-stickysession-avec-curl.html" rel="alternate"></link><published>2021-08-02T13:15:00+02:00</published><updated>2021-08-02T13:15:00+02:00</updated><author><name>Fallen70</name></author><id>tag:fallen70.github.io,2021-08-02:/workbook/test-stickysession-avec-curl.html</id><summary type="html">&lt;p&gt;Méthode pour tester la session sur plusieurs loadbalancers avec curl.&lt;/p&gt;
&lt;p&gt;En parallèle vérifier que la route est bien respectée en surveillant les logs des machine ciblées par les routes&lt;/p&gt;
&lt;p&gt;Explication sur certaines options de curl&lt;/p&gt;
&lt;p&gt;-H 'host:ServerName' pour cibler un vhost par son ServerName&lt;/p&gt;
&lt;p&gt;--cookie-jar /tmp/cookie Sauver le …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Méthode pour tester la session sur plusieurs loadbalancers avec curl.&lt;/p&gt;
&lt;p&gt;En parallèle vérifier que la route est bien respectée en surveillant les logs des machine ciblées par les routes&lt;/p&gt;
&lt;p&gt;Explication sur certaines options de curl&lt;/p&gt;
&lt;p&gt;-H 'host:ServerName' pour cibler un vhost par son ServerName&lt;/p&gt;
&lt;p&gt;--cookie-jar /tmp/cookie Sauver le cookie&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Récupérer le cookie &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl --cookie-jar /tmp/cookie   -v -I -H &amp;#39;host:ServerName&amp;#39; monserveur.cible-01
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Dans la sortie console on aura l'ionformation de création du  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nt"&gt;Added&lt;/span&gt; &lt;span class="nt"&gt;cookie&lt;/span&gt; &lt;span class="nt"&gt;ROUTEID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.1&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;for&lt;/span&gt; &lt;span class="nt"&gt;domain&lt;/span&gt; &lt;span class="nt"&gt;ServerName&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;path&lt;/span&gt; &lt;span class="o"&gt;/,&lt;/span&gt; &lt;span class="nt"&gt;expire&lt;/span&gt; &lt;span class="nt"&gt;0&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nt"&gt;Set-Cookie&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;ROUTEID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;
&lt;span class="nt"&gt;Set-Cookie&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;ROUTEID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;1&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Utiliser le cookie sur une autre adresse partageant un Servername&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;--cookie /tmp/cookie Utilise le cookie créé&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl --cookie /tmp/cookie   -v -I -H &amp;#39;host:ServerName&amp;#39; monserveur.cible-02
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Le cookie est bien exploité&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt; HEAD / HTTP/1.1
&amp;gt; User-Agent: curl/7.29.0
&amp;gt; Accept: */*
&amp;gt; Cookie: ROUTEID=.1
&amp;gt; host:ServerName
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Curl"></category><category term="load-balancer"></category></entry></feed>