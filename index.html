<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title data-pagefind-meta="title" >WorkBook</title>
        <link rel="stylesheet" href="https://fallen70.github.io/workbook/theme/css/main.css" />
        <link href="https://fallen70.github.io/workbook/pagefind/pagefind-ui.css" rel="stylesheet">
        <script src="https://fallen70.github.io/workbook/pagefind/pagefind-ui.js" type="text/javascript"></script>
        <link href="https://fallen70.github.io/workbook/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="WorkBook Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://fallen70.github.io/workbook/">WorkBook</a></h1>
                <nav><ul>
                    <li><a href="https://fallen70.github.io/workbook/category/curl.html">Curl</a></li>
                    <li><a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a></li>
                    <li><a href="https://fallen70.github.io/workbook/category/python.html">Python</a></li>
                    <li><a href="https://fallen70.github.io/workbook/category/python-onboarding.html">Python Onboarding</a></li>
                    <li><a href="https://fallen70.github.io/workbook/category/vim.html">Vim</a></li>
                    <li><a href="https://fallen70.github.io/workbook/category/virtualbox.html">Virtualbox</a></li>
                </ul></nav>
        </header><!-- /#banner -->

        <aside id="search" class="body"></aside>
        <script>
              window.addEventListener('DOMContentLoaded', (event) => {
                        new PagefindUI({ element: "#search",
                                         baseUrl: "https://fallen70.github.io/workbook/",
                        });
                    });
        </script>




            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://fallen70.github.io/workbook/ecriture-fonctions.html">Ecriture Fonctions</a></h1>
<footer class="post-info">
        <abbr class="published" title="2024-10-08T14:00:00+02:00">
                Publié le: 08-oct.-2024
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python-onboarding.html">Python Onboarding</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/python.html">python</a> <a href="https://fallen70.github.io/workbook/tag/training.html">training</a> </p>
</footer><!-- /.post-info --><h1>Fonctions</h1>
<p>on utilise le mot réservé <code>def</code> pour définir les fonction</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>

<span class="n">greet</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hello World
</code></pre></div>

<p>Si aucun <code>return</code> dans la fonction elle renvoie <code>None</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Toto&quot;</span> <span class="p">)</span>

<span class="nb">print</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hello Toto
None
</code></pre></div>

<h2>arguments</h2>
<p>Il ya deux types d'arguments qui peuvent être utilisé pour lors de l'appel d'une fonction: 
 * les <code>positional</code> arguments
 * les <code>named</code> ou <code>keyword</code> arguments</p>
<h3>positional argument</h3>
<p>Par example print peux prendre plusieurs <code>proistional argument</code></p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">1</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="mf">4</span>
</code></pre></div>

<h3>named argument</h3>
<p>La fonction print accepte aussi des <code>named</code> argument</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">help</span><span class="p">(</span><span class="nb">print</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nt">Help</span><span class="w"> </span><span class="nt">on</span><span class="w"> </span><span class="nt">built-in</span><span class="w"> </span><span class="nt">function</span><span class="w"> </span><span class="nt">print</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">module</span><span class="w"> </span><span class="nt">builtins</span><span class="o">:</span>

<span class="nt">print</span><span class="o">(...)</span>
<span class="w">    </span><span class="nt">print</span><span class="o">(</span><span class="nt">value</span><span class="o">,</span><span class="w"> </span><span class="o">...,</span><span class="w"> </span><span class="nt">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="o">,</span><span class="w"> </span><span class="nt">end</span><span class="o">=</span><span class="s1">&#39;\n&#39;</span><span class="o">,</span><span class="w"> </span><span class="nt">file</span><span class="o">=</span><span class="nt">sys</span><span class="p">.</span><span class="nc">stdout</span><span class="o">,</span><span class="w"> </span><span class="nt">flush</span><span class="o">=</span><span class="nt">False</span><span class="o">)</span>

<span class="w">    </span><span class="nt">Prints</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">values</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">stream</span><span class="o">,</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">sys</span><span class="p">.</span><span class="nc">stdout</span><span class="w"> </span><span class="nt">by</span><span class="w"> </span><span class="nt">default</span><span class="o">.</span>
<span class="w">    </span><span class="nt">Optional</span><span class="w"> </span><span class="nt">keyword</span><span class="w"> </span><span class="nt">arguments</span><span class="o">:</span>
<span class="w">    </span><span class="nt">file</span><span class="o">:</span><span class="w">  </span><span class="nt">a</span><span class="w"> </span><span class="nt">file-like</span><span class="w"> </span><span class="nt">object</span><span class="w"> </span><span class="o">(</span><span class="nt">stream</span><span class="o">);</span><span class="w"> </span><span class="nt">defaults</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">current</span><span class="w"> </span><span class="nt">sys</span><span class="p">.</span><span class="nc">stdout</span><span class="o">.</span>
<span class="w">    </span><span class="nt">sep</span><span class="o">:</span><span class="w">   </span><span class="nt">string</span><span class="w"> </span><span class="nt">inserted</span><span class="w"> </span><span class="nt">between</span><span class="w"> </span><span class="nt">values</span><span class="o">,</span><span class="w"> </span><span class="nt">default</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">space</span><span class="o">.</span>
<span class="w">    </span><span class="nt">end</span><span class="o">:</span><span class="w">   </span><span class="nt">string</span><span class="w"> </span><span class="nt">appended</span><span class="w"> </span><span class="nt">after</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">last</span><span class="w"> </span><span class="nt">value</span><span class="o">,</span><span class="w"> </span><span class="nt">default</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">newline</span><span class="o">.</span>
<span class="w">    </span><span class="nt">flush</span><span class="o">:</span><span class="w"> </span><span class="nt">whether</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">forcibly</span><span class="w"> </span><span class="nt">flush</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">stream</span><span class="o">.</span>

<span class="nt">None</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">2</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="mf">4</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="mf">4</span>
<span class="mf">2</span><span class="o">-</span><span class="mf">1</span><span class="o">-</span><span class="mf">3</span><span class="o">-</span><span class="mf">4</span>
<span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;!!&#39;</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="err">!!</span>
</code></pre></div>

<h3>Accepter un nombre inconnu d'argument</h3>
<p>Il est donc possible d'écrire une fonction qui prendra un nombre inconnu d'arguments.<br>
Si on reprend la fonction greet écrit plus on peut l'appeler avec un <code>positional</code> argument</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">greet</span><span class="p">(</span><span class="s2">&quot;Toto&quot;</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hello Toto
</code></pre></div>

<p>Avec un <code>named</code> argument</p>
<div class="highlight"><pre><span></span><code><span class="n">greet</span><span class="p">(</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Toto&quot;</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hello Toto
</code></pre></div>

<p>Mais pas avec plusieurs arguments</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Tata&quot;</span><span class="p">,</span> <span class="s2">&quot;Titi&quot;</span> <span class="p">)</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>greet() takes 1 positional argument but 2 were given
</code></pre></div>

<p>Il faut redéfinir la fonction en utilisant une étoile sur l'argument, de cette maniére nous allons capturer tout les <code>positional</code> arguments sou la forme d'un tuple.<br>
Vous trouverez ceci souvent sous cette forme <code>def ma_fonction( *args ):</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span> <span class="o">*</span><span class="n">names</span> <span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>

<span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Tata&quot;</span><span class="p">,</span> <span class="s2">&quot;Titi&quot;</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hello Tata
Hello Titi
</code></pre></div>

<p>On peut même l'appeler sans argument, ça n'est pas considéré comme une erreur le tuple <code>names</code> sera vide</p>
<div class="highlight"><pre><span></span><code><span class="n">greet</span><span class="p">()</span>
</code></pre></div>

<p>On peut ajouter un ou plusieur <code>positional</code> argument avant les * dans la signature</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span> <span class="n">greeting</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span> <span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span> <span class="n">greeting</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>

<span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Hi&quot;</span><span class="p">,</span> <span class="s2">&quot;Tata&quot;</span><span class="p">,</span> <span class="s2">&quot;Titi&quot;</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hi Tata
Hi Titi
</code></pre></div>

<p>Si on veut utiliser un <code>named</code> argument pour lui donner une valeur par défaut on devra positioner la variable greeting aprés les *.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span> <span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">names</span> <span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span> <span class="n">greeting</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>

<span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Tata&quot;</span><span class="p">,</span> <span class="s2">&quot;Titi&quot;</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Tata Titi
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="o">*</span><span class="n">names</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span> <span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span> <span class="n">greeting</span><span class="p">,</span> <span class="n">name</span> <span class="p">)</span>

<span class="n">greet</span><span class="p">(</span> <span class="s2">&quot;Tata&quot;</span><span class="p">,</span> <span class="s2">&quot;Titi&quot;</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hi&quot;</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Hi Tata
Hi Titi
</code></pre></div>

<h3>Accepter un nombre inconnu de <code>named</code>/ <code>keyword</code> argument</h3>
<p>De la même maniérer il est possible d'écrire une fonction qui accepte un nombre inconnu de <code>named</code> argument.<br>
Il faut dans ce cas utilser ** avant le nom de la variable qui va capturer ces éléments sous la forme d'un <code>dict</code>.<br>
Couramment la fonction sera écrite de cette maniére <code>def ma_fonction( **kwargs )</code></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">say_things</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">things</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">thing</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">things</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> has </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">thing</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;That&#39;s all!&quot;</span><span class="p">)</span>

<span class="n">say_things</span><span class="p">(</span><span class="s2">&quot;Toto&quot;</span><span class="p">,</span> <span class="n">ducks</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pig</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Toto has 2 ducks
Toto has 1 pig
That&#39;s all!
</code></pre></div>

<h2>Point d'attention concernant les valeurs par default</h2>
<p>Lors de l'éxecution le code de la fonction n'est évalué qu'une seul fois, ceci peut provoquer des bugs.</p>
<h3>Pas de mutable</h3>
<p>Il ne faut pas utiliser de <code>mutable</code> comme valeur par défaut</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">init_list</span><span class="p">(</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[]</span> <span class="p">):</span>
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">default</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">value</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">default</span>

<span class="n">l1</span> <span class="o">=</span> <span class="n">init_list</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
<span class="n">l2</span> <span class="o">=</span> <span class="n">init_list</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="p">)</span>

<span class="nb">print</span><span class="p">(</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>[1, 2, 3] [1, 2, 3]
</code></pre></div>

<h3>Pas de valeur aléatoire</h3>
<p>Pour la même raison utiliser une valeur alétoire n'aura aucun effet.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;pink&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span> <span class="p">]</span>
<span class="k">def</span> <span class="nf">pick_color</span><span class="p">(</span> <span class="n">color</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span> <span class="n">colors</span> <span class="p">)</span> <span class="p">):</span>
    <span class="k">return</span> <span class="n">color</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">pick_color</span><span class="p">()</span> <span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
green
</code></pre></div>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/librairies-utiles.html" rel="bookmark"
                           title="Permalink to Librairies utiles">Librairies utiles</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2024-10-08T14:00:00+02:00">
                Publié le: 08-oct.-2024
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python-onboarding.html">Python Onboarding</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/python.html">python</a> <a href="https://fallen70.github.io/workbook/tag/training.html">training</a> </p>
</footer><!-- /.post-info -->                <h1>Built-in Functions</h1>
<p>Python propose une série de fonction toutjours accessible sans nécessité d'import.</p>
<h2>Liste exhaustive</h2>
<p>https://docs.python.org/3/library/functions.html</p>
<h3>zip</h3>
<p>La méthode <code>zip</code> permet de prendre plusieurs <code>iterables</code> pour créer un tuple contenant un élement de chaque.<br>
Elle s'arrétera une fois que l'<code>iterable</code> le plus …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/librairies-utiles.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/tour-dhorizon-python.html" rel="bookmark"
                           title="Permalink to Tour d'horizon Python">Tour d'horizon Python</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2024-10-08T14:00:00+02:00">
                Publié le: 08-oct.-2024
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python-onboarding.html">Python Onboarding</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/python.html">python</a> <a href="https://fallen70.github.io/workbook/tag/training.html">training</a> </p>
</footer><!-- /.post-info -->                <h1>Mutability</h1>
<p>Les listes, dictionnaires et ensembles sont considéré comme <code>mutable</code>, les Strings, tuples, entiers, et floats sont <code>immutable</code></p>
<p>Un objet <code>mutable</code> est un objet qui peut être modifié.
On peut changer les propriétés d'un objet mutable une fois qu’il a été défini.
Une erreur courante est de confondre modification …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/tour-dhorizon-python.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/pytest-cheat-sheat.html" rel="bookmark"
                           title="Permalink to Pytest Cheat Sheat">Pytest Cheat Sheat</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-07-04T13:44:00+02:00">
                Publié le: 04-juil.-2023
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python.html">Python</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/pytest.html">pytest</a> <a href="https://fallen70.github.io/workbook/tag/mock.html">mock</a> </p>
</footer><!-- /.post-info -->                <h1>Prérequis</h1>
<ul>
<li>pytest</li>
</ul>
<h1>Créer un mock paramétrable</h1>
<h2>Code pour le mock:</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mock_func&quot;</span> <span class="p">)</span>
<span class="k">def</span> <span class="nf">fixture_mock_func</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_mock_func</span><span class="p">(</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span> <span class="p">):</span>
        <span class="n">returns</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">&#39;test1&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;10&#39;</span> <span class="p">:</span> <span class="s1">&#39;test1_with_value_10&#39;</span><span class="p">,</span> <span class="s1">&#39;20&#39;</span><span class="p">:</span> <span class="s1">&#39;test1_with_value_20&#39;</span> <span class="p">},</span>
            <span class="s1">&#39;test2&#39;</span> <span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;30&#39;</span> <span class="p">:</span> <span class="s1">&#39;test2_with_value_30&#39;</span><span class="p">,</span> <span class="s1">&#39;40&#39;</span><span class="p">:</span> <span class="s1">&#39;test2_with_value_40&#39;</span> <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">returns</span><span class="p">[</span><span class="n">param1</span><span class="p">][</span><span class="n">param2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">_mock_func</span>
</code></pre></div>

<h2>Code pour le test:</h2>
<h3>One mock patch</h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/pytest-cheat-sheat.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/load-et-dump-yaml.html" rel="bookmark"
                           title="Permalink to Load et Dump yaml">Load et Dump yaml</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-29T11:44:00+02:00">
                Publié le: 29-juin-2023
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python.html">Python</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/yaml.html">yaml</a> </p>
</footer><!-- /.post-info -->                <h1>Prérequis</h1>
<div class="highlight"><pre><span></span><code><span class="c1"># import pyyaml module</span>
<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">from</span> <span class="nn">yaml.loader</span> <span class="kn">import</span> <span class="n">SafeLoader</span>
</code></pre></div>

<h1>Chargement depuis un fichier</h1>
<div class="highlight"><pre><span></span><code><span class="c1"># Open the file and load the file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fichier.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="o">=</span><span class="n">SafeLoader</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>

<h1>Dump dans un fichier</h1>
<div class="highlight"><pre><span></span><code><span class="c1"># Dump data</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fichier.yml&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">yaml …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/load-et-dump-yaml.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/archivage-depuis-un-disque-plein.html" rel="bookmark"
                           title="Permalink to Archivage depuis un disque plein">Archivage depuis un disque plein</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-28T08:49:00+02:00">
                Publié le: 28-juin-2023
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/tar.html">tar</a> <a href="https://fallen70.github.io/workbook/tag/find.html">find</a> </p>
</footer><!-- /.post-info -->                <h1>Méthode pour archiver des fichiers sur une période de temps</h1>
<h2>Création d'un tar vide</h2>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/tmp
mkdir<span class="w"> </span><span class="m">2020</span>
tar<span class="w"> </span>cvf<span class="w"> </span><span class="m">2020</span>.tar<span class="w"> </span><span class="m">2020</span>/
rm<span class="w"> </span>-rf<span class="w"> </span><span class="m">2020</span>
</code></pre></div>

<h2>Copie des fichiers par année</h2>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/files/to/archive
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>find<span class="w"> </span>.<span class="w"> </span>-newermt<span class="w"> </span><span class="m">20200101</span><span class="w"> </span>-not<span class="w"> </span>-newermt<span class="w"> </span><span class="m">20210101</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>tar<span class="w"> </span>-rvf<span class="w"> </span>/tmp/2020.tar …</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/archivage-depuis-un-disque-plein.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/check-dns-et-ip.html" rel="bookmark"
                           title="Permalink to Check DNS et IP">Check DNS et IP</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-09T11:13:00+02:00">
                Publié le: 09-juin-2023
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/python.html">Python</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/dns.html">dns</a> <a href="https://fallen70.github.io/workbook/tag/check.html">check</a> </p>
</footer><!-- /.post-info -->                <h1>Prerequis</h1>
<ul>
<li>python3</li>
<li>module python <code>nslookup</code></li>
<li>un dossiern results pour stocker les résultats</li>
</ul>
<p>Le script Lit un csv en entrée et eécrit les résultats au fur et à mesure.</p>
<h1>Script</h1>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">nslookup</span> <span class="kn">import</span> <span class="n">Nslookup</span>
<span class="n">dns_query</span> <span class="o">=</span> <span class="n">Nslookup</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">ping_ko</span><span class="p">(</span> <span class="n">ip</span> <span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ping -c 4 </span><span class="si">{</span><span class="n">ip …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/check-dns-et-ip.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/liste-des-services.html" rel="bookmark"
                           title="Permalink to Liste des services">Liste des services</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-10T10:50:00+02:00">
                Publié le: 10-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/redhat.html">RedHat</a> </p>
</footer><!-- /.post-info -->                <p>Sources :</p>
<ul>
<li><a href="https://linoxide.com/how-to-list-services-in-linux/">https://linoxide.com/how-to-list-services-in-linux/</a></li>
</ul>
<p>Liste de tous les services</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>list-unit-files
</code></pre></div>

<p>Recherche d'un service </p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;apache2&quot;</span>
</code></pre></div>

<p>Liste des services avec netstat</p>
<div class="highlight"><pre><span></span><code>netstat<span class="w"> </span>-pnltu<span class="w"> </span>
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/liste-des-services.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/telecharger-certificats.html" rel="bookmark"
                           title="Permalink to Télecharger certificats">Télecharger certificats</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-09T17:00:00+02:00">
                Publié le: 09-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/openssl.html">openssl</a> </p>
</footer><!-- /.post-info -->                <p>Récupére tous les certificats affiché par <code>$HOST:$PORT</code>.</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-rf<span class="w"> </span>/tmp/certs/
mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/certs/
openssl<span class="w"> </span>s_client<span class="w"> </span>-showcerts<span class="w"> </span>-connect<span class="w"> </span><span class="nv">$HOST</span>:<span class="nv">$PORT</span><span class="w"> </span>&lt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;/BEGIN CERTIFICATE/,/END CERTIFICATE/p&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;BEGIN {c=0;} /BEGIN CERT/{c++} { print &gt; &quot;/tmp/certs/cert.&quot; c &quot;.pem&quot;}&#39;</span>
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/telecharger-certificats.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/generation-de-certificat.html" rel="bookmark"
                           title="Permalink to Génération de certificat">Génération de certificat</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-09T16:50:00+02:00">
                Publié le: 09-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/openssl.html">openssl</a> </p>
</footer><!-- /.post-info -->                <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Nettoyage du dossier temporaire cible</span>
rm<span class="w"> </span>-rf<span class="w"> </span>/tmp/@option.host@
mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/@option.host@

<span class="c1"># Définition des fichiers cible</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="s2">&quot;server.name&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">key</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="nv">$host</span><span class="s1">&#39;/&#39;</span><span class="nv">$host</span><span class="s1">&#39;.key&#39;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">csr</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="nv">$host</span><span class="s1">&#39;/&#39;</span><span class="nv">$host</span><span class="s1">&#39;.csr&#39;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">srl</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="nv">$host</span><span class="s1">&#39;/&#39;</span><span class="nv">$host</span><span class="s1">&#39;.srl&#39;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">crt</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="nv">$host</span><span class="s1">&#39;/&#39;</span><span class="nv">$host</span><span class="s1">&#39;.crt&#39;</span>

<span class="c1">#-- generate …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/generation-de-certificat.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/verifier-la-date-de-fin-dun-certificat-ssl.html" rel="bookmark"
                           title="Permalink to Vérifier la date de fin d'un certificat SSL">Vérifier la date de fin d'un certificat SSL</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-09T16:20:00+02:00">
                Publié le: 09-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/openssl.html">openssl</a> </p>
</footer><!-- /.post-info -->                <p>Le script a pour but d'être éxécuter sur la machine cible en local avec un outil type rundeck.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nv">HOSTNAME</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="nv">PORT</span><span class="o">=</span><span class="s2">&quot;443&quot;</span>
<span class="nv">ALERT_X_DAY_BEFORE</span><span class="o">=</span><span class="m">10</span>

<span class="c1"># Get current date as timestamp</span>
<span class="nv">CURR_DATE</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span>

<span class="c1"># Get enddate from certificate of hostname:port identified</span>
<span class="nv">CERT_DATE_AS_STRING</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span><span class="si">${</span><span class="nv">HOSTNAME</span><span class="si">}</span>:<span class="si">${</span><span class="nv">PORT</span><span class="si">}</span><span class="w"> </span><span class="m">2 …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/verifier-la-date-de-fin-dun-certificat-ssl.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/openssl-cheatsheat.html" rel="bookmark"
                           title="Permalink to OpenSSL CheatSheat">OpenSSL CheatSheat</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-09T16:00:00+02:00">
                Publié le: 09-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/openssl.html">openssl</a> </p>
</footer><!-- /.post-info -->                <p>Sources :</p>
<ul>
<li><a href="https://www.kinamo.fr/fr/support/faq/commandes-openssl-utiles">https://www.kinamo.fr/fr/support/faq/commandes-openssl-utiles</a></li>
<li><a href="https://www.system-linux.eu/index.php?post/2017/03/03/Convertir-un-fichier-pfx-en-crt-et-key">https://www.system-linux.eu/index.php?post/2017/03/03/Convertir-un-fichier-pfx-en-crt-et-key</a></li>
</ul>
<h1>OpenSSL - commandes utiles</h1>
<h2>Comment se servir d'OpenSSL?</h2>
<p>OpenSSL est véritablement le couteau suisse de la gestion de certificats, mais à l'instar du canif suisse, on passe un temps fou à …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/openssl-cheatsheat.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/cacher-information-serveur.html" rel="bookmark"
                           title="Permalink to Cacher information Serveur">Cacher information Serveur</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/apache.html">apache</a> <a href="https://fallen70.github.io/workbook/tag/php.html">php</a> </p>
</footer><!-- /.post-info -->                <p>Source :</p>
<ul>
<li><a href="https://www.if-not-true-then-false.com/2009/howto-hide-and-modify-apache-server-information-serversignature-and-servertokens-and-hide-php-version-x-powered-by/">https://www.if-not-true-then-false.com/2009/howto-hide-and-modify-apache-server-information-serversignature-and-servertokens-and-hide-php-version-x-powered-by/</a></li>
</ul>
<p>Pour tester :</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>lynx<span class="w"> </span>-head<span class="w"> </span>-mime_header<span class="w"> </span>http://www.ubuntu.com
HTTP/1.0<span class="w"> </span><span class="m">200</span><span class="w"> </span>OK
Date:<span class="w"> </span>Fri,<span class="w"> </span><span class="m">20</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">2009</span><span class="w"> </span><span class="m">09</span>:25:46<span class="w"> </span>GMT
Server:<span class="w"> </span>Apache/2.2.8<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span><span class="w"> </span>mod_python/3.3.1<span class="w"> </span>Python/2.5.2<span class="w"> </span>PHP/5.2.4-2ubuntu5.7<span class="w"> </span>with …</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/cacher-information-serveur.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/copie-clef-publique-ssh.html" rel="bookmark"
                           title="Permalink to Copie clef publique ssh">Copie clef publique ssh</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/ssh.html">ssh</a> <a href="https://fallen70.github.io/workbook/tag/ansible.html">ansible</a> </p>
</footer><!-- /.post-info -->                <h1>bash</h1>
<p>Liste les cibles dans hosts.txt</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="w"> </span>
<span class="k">for</span><span class="w"> </span>host<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>./hosts.txt<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
cat<span class="w"> </span>~/.ssh/id_rsa.pub<span class="w"> </span><span class="p">|</span><span class="w"> </span>ssh<span class="w"> </span>root@<span class="si">${</span><span class="nv">host</span><span class="si">}</span><span class="w"> </span><span class="s1">&#39;cat &gt;&gt; ~/.ssh/authorized_keys&#39;</span>
<span class="k">done</span><span class="w"> </span>

<span class="k">for</span><span class="w"> </span>host<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>./hosts.txt<span class="k">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span><span class="w"> </span>sshpass<span class="w"> </span>-p<span class="w"> </span><span class="s1">&#39;&lt;password&gt;&#39;</span><span class="w"> </span>ssh-copy-id<span class="w"> </span>root@<span class="si">${</span><span class="nv">host</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="k">done</span><span class="p">;</span><span class="w"> </span>
</code></pre></div>

<h1>ansible</h1>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">servers_to_update</span><span class="w"> </span>
<span class="w">  </span><span class="nt">remote_user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">root …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/copie-clef-publique-ssh.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/debug-envoi-de-mail.html" rel="bookmark"
                           title="Permalink to Debug envoi de mail">Debug envoi de mail</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/sendmail.html">sendmail</a> <a href="https://fallen70.github.io/workbook/tag/exchange.html">exchange</a> </p>
</footer><!-- /.post-info -->                <h1>sendmail</h1>
<h2>Test simple</h2>
<p>Ecrire le contenu a envoyer dans /tmp/test.mail</p>
<div class="highlight"><pre><span></span><code>sendmail<span class="w"> </span>-v<span class="w"> </span>recipient@domain<span class="w"> </span>&lt;<span class="w"> </span>/tmp/test.mail
</code></pre></div>

<h2>Queue</h2>
<div class="highlight"><pre><span></span><code>mailq
sendmail<span class="w"> </span>-bp
</code></pre></div>

<h2>Aggregation des erreurs des mails dans la queue</h2>
<div class="highlight"><pre><span></span><code>mailq<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>smtpmailer.domain<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w">  </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort
</code></pre></div>

<h2>Forcer l'envoi des mails en attente</h2>
<div class="highlight"><pre><span></span><code>sendmail<span class="w"> </span>-q<span class="w"> </span>-v
</code></pre></div>

<h1>Debug exchange …</h1>
                <a class="readmore" href="https://fallen70.github.io/workbook/debug-envoi-de-mail.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/logrotate.html" rel="bookmark"
                           title="Permalink to Logrotate">Logrotate</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/logrotate.html">logrotate</a> </p>
</footer><!-- /.post-info -->                <p>Source :</p>
<ul>
<li><a href="https://www.croc-informatique.fr/2009/06/rotation-des-logs-avec-logrotate/">https://www.croc-informatique.fr/2009/06/rotation-des-logs-avec-logrotate/</a></li>
<li><a href="http://www.delafond.org/traducmanfr/man/man8/logrotate.8.html">http://www.delafond.org/traducmanfr/man/man8/logrotate.8.html</a></li>
</ul>
<p>Créer un fichier du nom de votre service (pour mémo) dans le répertoire /etc/logrotate.d. Nous allons prendre pour exemple le service postfix :</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span>vi<span class="w"> </span>/etc/logrotate.d/postfix
</code></pre></div>

<p>Saisissez ces quelques …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/logrotate.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/package-installe-par-taille.html" rel="bookmark"
                           title="Permalink to Package installé par taille">Package installé par taille</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/redhat.html">RedHat</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <div class="highlight"><pre><span></span><code>rpm<span class="w"> </span>-qa<span class="w"> </span>--queryformat<span class="w"> </span><span class="s1">&#39;%10{size} - %-25{name} \t %{version}\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-n
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/package-installe-par-taille.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/subcription-manager.html" rel="bookmark"
                           title="Permalink to Subcription manager">Subcription manager</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/redhat.html">RedHat</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> <a href="https://fallen70.github.io/workbook/tag/ansible.html">ansible</a> </p>
</footer><!-- /.post-info -->                <h1>Prérequis</h1>
<p>Les commandes sont lancées en utilisant ansible et un inventory pour pouvoir propoager la configuration.</p>
<p>Il faut évidemment disposer de licences redhat et d'un compte associé ( <code>&lt;login&gt;</code> et '<password>' ).</p>
<h1>Register</h1>
<p>Source : </p>
<ul>
<li><a href="https://access.redhat.com/solutions/253273">https://access.redhat.com/solutions/253273</a></li>
</ul>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>all<span class="w"> </span>-i<span class="w"> </span>inventory<span class="w"> </span>-u<span class="w"> </span>ansible<span class="w">  </span>-b<span class="w"> </span>--become-user<span class="o">=</span>root<span class="w"> </span>--become-method<span class="o">=</span>sudo<span class="w"> </span>-m<span class="w"> </span>redhat_subscription …</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/subcription-manager.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/ulimit.html" rel="bookmark"
                           title="Permalink to Ulimit">Ulimit</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-06T13:50:00+02:00">
                Publié le: 06-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <p>Liste par process</p>
<div class="highlight"><pre><span></span><code>lsof<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="se">\ </span><span class="w"> </span>-f1<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-nr<span class="w"> </span><span class="p">|</span><span class="w"> </span>less<span class="w">   </span>
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/ulimit.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/ramswap.html" rel="bookmark"
                           title="Permalink to RAM/SWAP">RAM/SWAP</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T13:50:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <h1>Swappiness</h1>
<ul>
<li><a href="https://geekeries.de-labrusse.fr/?p=1806">https://geekeries.de-labrusse.fr/?p=1806</a></li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>vm.swappiness<span class="o">=</span><span class="m">30</span>
</code></pre></div>

<h1>RAM &amp; SWAP</h1>
<p>Sources :</p>
<ul>
<li><a href="https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap">https://www.vincentliefooghe.net/content/linux-gestion-la-ram-et-du-swap</a></li>
<li><a href="https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive">https://linuxpedia.fr/doku.php/expert/analyser_usage_memoire_vive</a></li>
<li><a href="https://www.selenic.com/smem/">https://www.selenic.com/smem/</a></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>proc<span class="w"> </span><span class="k">in</span><span class="w"> </span>/proc/<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>*<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w">   </span>awk<span class="w"> </span><span class="s1">&#39;/VmSwap/ { print $2 &quot;\t&#39;</span><span class="sb">`</span>readlink<span class="w"> </span><span class="nv">$proc</span>/exe<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk …</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/ramswap.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/time_wait.html" rel="bookmark"
                           title="Permalink to TIME_WAIT">TIME_WAIT</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T13:50:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/netstat.html">netstat</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <p>Sources :</p>
<ul>
<li><a href="https://vincent.bernat.ch/fr/blog/2014-tcp-time-wait-state-linux">https://vincent.bernat.ch/fr/blog/2014-tcp-time-wait-state-linux</a></li>
<li><a href="https://www.skyminds.net/serveur-dedie-reduire-les-connexions-time_wait-des-sockets-et-optimiser-tcp/">https://www.skyminds.net/serveur-dedie-reduire-les-connexions-time_wait-des-sockets-et-optimiser-tcp/</a></li>
</ul>
<div class="highlight"><pre><span></span><code>netstat<span class="w"> </span>-nat<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $6}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-n
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/time_wait.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/creation-dutilisateur.html" rel="bookmark"
                           title="Permalink to Création d'utilisateur">Création d'utilisateur</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T13:40:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <p>Sources :</p>
<ul>
<li><a href="https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/">https://www.starmate.fr/creer-un-utilisateur-et-son-passwd-en-une-commande/</a></li>
<li><a href="https://stackoverflow.com/questions/14810684/check-whether-a-user-exists">https://stackoverflow.com/questions/14810684/check-whether-a-user-exists</a></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Check if user exists</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>id<span class="w"> </span>-u<span class="w"> </span><span class="nv">$FS_USER</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;The user does not exist; execute below commands to create and try again:&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  root@sh1:~# adduser --home /usr/local/freeswitch/ --shell /bin/false …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/creation-dutilisateur.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/nettoyage-jenkins.html" rel="bookmark"
                           title="Permalink to Nettoyage Jenkins">Nettoyage Jenkins</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T13:30:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/jenkins.html">Jenkins</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <p>Actions en s'appuyant sur les fichiers .pom:</p>
<ul>
<li>Nettoyage des logs catalina</li>
<li>Suppression du cache Jenkins</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">TOMCAT_DIR</span><span class="o">=</span><span class="s1">&#39;/path/to/jenkins/tomcat&#39;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CACHES_DIR</span><span class="o">=</span><span class="s1">&#39;/path/to/jenkins/jenkins_data/caches&#39;</span>

<span class="c1"># Clean catalina.out without restart</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Cleaning catalina.out&#39;</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$(</span>date<span class="k">)</span><span class="s1">&#39; Cleaned by XXXXX&#39;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="si">${</span><span class="nv">TOMCAT_DIR</span><span class="si">}</span>/logs/catalina.out

<span class="c1"># Cleaning caches …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/nettoyage-jenkins.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/nettoyage-dun-repository-m2.html" rel="bookmark"
                           title="Permalink to Nettoyage d'un repository M2">Nettoyage d'un repository M2</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T13:20:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/maven.html">Maven</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <p>Actions en s'appuyant sur les fichiers .pom:</p>
<ul>
<li>Suppression des snapshots avec un ctime &gt;14j</li>
<li>Suppression des autres avec un atime &gt; 60j</li>
</ul>
<p>ctime -&gt; date de création</p>
<p>atime -&gt; date de derniner accés</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">MVN_REPO_DIR</span><span class="o">=</span><span class="s1">&#39;/path/to/m2&#39;</span>

<span class="c1"># Cleaning mvn SNAPSHOT repository</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Cleaning SNAPSHOT repository&#39;</span>
<span class="k">for</span><span class="w"> </span>snapshot_dir<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>find<span class="w"> </span><span class="si">${</span><span class="nv">MVN_REPO_DIR …</span></code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/nettoyage-dun-repository-m2.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/nettoyage-de-fichierdossier-en-fonction-de-la-taille.html" rel="bookmark"
                           title="Permalink to Nettoyage de fichier/dossier en fonction de la taille">Nettoyage de fichier/dossier en fonction de la taille</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T12:50:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <h1>Liste de fichier qui dépassent une taille en byte</h1>
<div class="highlight"><pre><span></span><code>du<span class="w"> </span>-s<span class="w"> </span>*<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-n<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w">  </span><span class="s1">&#39;{  if ( $1 &gt; 400000 ) print $2; }&#39;</span>
</code></pre></div>

<h2>Suppression du contenu trop volumineux</h2>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>dir<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span><span class="w"> </span>du<span class="w"> </span>-s<span class="w"> </span>*<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span>-n<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w">  </span><span class="s1">&#39;{  if ( $1 &gt; 400000 ) print $2; }&#39;</span><span class="w"> </span><span class="k">)</span><span class="p">;</span>
<span class="w">  </span><span class="k">do</span><span class="w"> </span>rm<span class="w"> </span>-rvf<span class="w"> </span><span class="nv">$dir</span><span class="p">;</span>
<span class="k">done</span><span class="p">;</span>
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/nettoyage-de-fichierdossier-en-fonction-de-la-taille.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/formatage-contenu.html" rel="bookmark"
                           title="Permalink to Formatage contenu">Formatage contenu</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T10:00:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/vim.html">Vim</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/html.html">html</a> <a href="https://fallen70.github.io/workbook/tag/json.html">json</a> </p>
</footer><!-- /.post-info -->                <h1>Formater du contenu dans vim</h1>
<h2>HTML</h2>
<p>Installer l'utilitaire <code>tidy</code></p>
<div class="highlight"><pre><span></span><code>:!tidy -mi -html -wrap 0 %
</code></pre></div>

<h2>JSON</h2>
<p>Nécessite python sur la machine</p>
<div class="highlight"><pre><span></span><code><span class="p">:</span><span class="o">%!</span><span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">json</span><span class="o">.</span><span class="k">tool</span>
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/formatage-contenu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/installation-vm-tools.html" rel="bookmark"
                           title="Permalink to Installation VM Tools">Installation VM Tools</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-05T08:40:00+02:00">
                Publié le: 05-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/virtualbox.html">Virtualbox</a>.</p>

</footer><!-- /.post-info -->                <p>A faire aprés modification du Kernel</p>
<p>Aprés  lancement de la VM depuis le menu Périphérique choisir <code>Insérer l'image CD des Additions invité</code></p>
<p><img alt="Menu Virtualbox" src="https://fallen70.github.io/workbook/images/virtualbox/vm-tools.png"></p>
<h1>Montage et éxecution du CD:</h1>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/cdrom<span class="w"> </span>/mnt/cdrom
<span class="nb">cd</span><span class="w"> </span>/mnt/cdrom/
sudo<span class="w"> </span>./VBoxLinuxAdditions.run
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/installation-vm-tools.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/actions-nexus-avec-curl.html" rel="bookmark"
                           title="Permalink to Actions nexus avec curl">Actions nexus avec curl</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-02T17:00:00+02:00">
                Publié le: 02-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/curl.html">Curl</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/nexus.html">nexus</a> <a href="https://fallen70.github.io/workbook/tag/admin-sys.html">admin-sys</a> </p>
</footer><!-- /.post-info -->                <h1>Upload</h1>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-v<span class="w"> </span>--user<span class="w"> </span><span class="s1">&#39;user:pass&#39;</span><span class="w"> </span>--upload-file<span class="w"> </span>/path/to/file<span class="w"> </span>http://nexus/nexus/repository/component/subfolder/file
</code></pre></div>

<h1>Delete</h1>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>DELETE<span class="w"> </span>-v<span class="w"> </span>--user<span class="w">  </span><span class="s1">&#39;user:pass&#39;</span><span class="w">  </span>http://nexus/nexus/repository/component/subfolder/file
</code></pre></div>
                <a class="readmore" href="https://fallen70.github.io/workbook/actions-nexus-avec-curl.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/find-et-lien-symbolique.html" rel="bookmark"
                           title="Permalink to Find et lien symbolique">Find et lien symbolique</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-02T16:20:00+02:00">
                Publié le: 02-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/linux.html">Linux</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/find.html">find</a> <a href="https://fallen70.github.io/workbook/tag/sym-links.html">sym-links</a> </p>
</footer><!-- /.post-info -->                <p>Tiré de <a href="https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684">https://stackoverflow.com/questions/8513133/how-do-i-find-all-of-the-symlinks-in-a-directory-tree/21438684</a></p>
<h1>Find symbolic links</h1>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>l<span class="w"> </span>-ls
</code></pre></div>

<h1>Find symbolic links to a specific target</h1>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-lname<span class="w"> </span>link_target
</code></pre></div>

<p>Note that link_target may contain wildcard characters.</p>
<h1>Find broken symbolic links</h1>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>-L<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>l<span class="w"> </span>-ls
</code></pre></div>

<p>The -L option instructs find to follow symbolic …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/find-et-lien-symbolique.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://fallen70.github.io/workbook/test-stickysession-avec-curl.html" rel="bookmark"
                           title="Permalink to Test StickySession avec curl">Test StickySession avec curl</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2021-08-02T13:15:00+02:00">
                Publié le: 02-août-2021
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="https://fallen70.github.io/workbook/author/fallen70.html">Fallen70</a>
        </address>
<p>Dans <a href="https://fallen70.github.io/workbook/category/curl.html">Curl</a>.</p>
<p>Tags: <a href="https://fallen70.github.io/workbook/tag/load-balancer.html">load-balancer</a> </p>
</footer><!-- /.post-info -->                <p>Méthode pour tester la session sur plusieurs loadbalancers avec curl.</p>
<p>En parallèle vérifier que la route est bien respectée en surveillant les logs des machine ciblées par les routes</p>
<p>Explication sur certaines options de curl</p>
<p>-H 'host:ServerName' pour cibler un vhost par son ServerName</p>
<p>--cookie-jar /tmp/cookie Sauver le …</p>
                <a class="readmore" href="https://fallen70.github.io/workbook/test-stickysession-avec-curl.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="https://pagefind.app/">Pagefind</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://fallen70.github.io/workbook/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
                <p>Search provided by <a href="https://pagefind.app/">Pagefind</a></p>
                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>